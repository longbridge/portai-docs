# 循环节点（Loop）

## 是什么

循环节点用于**在满足条件的情况下重复执行一段流程**。
是否继续执行，取决于**每一轮的判断结果**。

你可以把它理解为：

> **“只要条件成立，就一直重复执行”**

## 你可以用它做什么

#### 1. 多轮尝试与修正

循环节点适合：

* 多次尝试直到成功
* 不断修正结果
* 持续执行直到满足条件

例如：

* 模型结果不合格就重新生成
* 调用接口失败则重试
* 逐步逼近目标结果

---

#### 2. 实现“直到满足为止”的流程

循环节点允许流程：

* 根据中间结果动态决定是否继续
* 在执行过程中调整状态

## 工作方式（理解即可）

1. 执行循环内的子流程
2. 根据条件判断是否继续
3. 条件成立 → 进入下一轮
4. 条件不成立 → 跳出循环

## 输入与输出

* **输入**：

  * 初始状态变量
* **输出**：

  * 最后一轮执行的结果
  * 或累计后的状态数据

## 使用规则

* 循环节点**必须设置退出条件**
* 建议设置最大循环次数，防止死循环
* 循环体内应避免不可控操作

## 使用建议（非常重要）

* 循环逻辑一定要“可终止”
* 条件判断尽量明确
* 不要依赖模型的主观判断作为唯一退出条件

## 典型场景

* 重试机制
* 多轮优化
* 条件驱动的持续执行

## 迭代节点 vs 循环节点（如何选择）

| 对比项    | 迭代节点        | 循环节点      |
| ------ | ----------- | --------- |
| 重复依据   | 数据集合        | 条件判断      |
| 执行次数   | 固定（由列表长度决定） | 不固定       |
| 是否容易失控 | 低           | 较高        |
| 适合任务   | 批量处理        | 多次尝试 / 修正 |

## 选择建议（直接记住这句）

* **“有列表，用迭代”**
* **“没次数，用循环”**

## 常见误区

用循环处理列表
→ 应该用迭代，更安全、可控

用迭代做重试
→ 应该用循环，更符合语义

---
