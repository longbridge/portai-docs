# Code 节点

## 是什么

Code 节点用于**编写并执行自定义代码**，对流程中的数据进行处理、转换或计算。

它适合处理**规则明确、逻辑确定、模型不擅长或不应参与的任务**。

## 你可以用它做什么

#### 1. 处理和转换数据

使用 Code 节点可以：

* 清洗和格式化数据
* 转换数据结构（如 JSON 转换、字段映射）
* 合并、拆分或重组变量

例如：

* 将模型输出整理成标准格式
* 对工具返回结果做二次处理

---

#### 2. 执行确定性逻辑

Code 节点非常适合：

* 条件判断
* 数值计算
* 规则校验
* 固定算法处理

这些任务比交给大模型更稳定、更可控。

---

#### 3. 作为流程“粘合层”

在复杂流程中，Code 节点常用于：

* 连接多个节点的输出
* 统一不同来源的数据格式
* 为后续节点准备干净、可用的输入

## 输入与输出

* **输入**：

  * 来自上游节点的变量
* **输出**：

  * 代码执行后的结果
  * 可作为后续节点的输入或判断条件

## 使用规则

* Code 节点只执行你编写的代码逻辑
* 不具备模型推理能力
* 执行失败会导致流程中断（需配合条件或兜底逻辑）

## 使用建议

* 只放确定性逻辑，不要在 Code 节点中模拟“思考”
* 代码尽量简洁，避免复杂依赖
* 对关键输出做好异常处理和默认值

## 典型场景

* 数据清洗与转换
* 规则判断与校验
* 结构化输出生成
* 模型与工具结果的中间处理

---
