# Answer 节点

## 是什么

Answer 节点用于**将流程中的结果整理并输出给用户**。
它通常作为对话或交互式流程中的最终回复节点，用于生成用户可直接看到的回答内容。

与结束节点不同，Answer 节点更关注**“对用户说什么”**，而不是仅仅标记流程结束。

## 你可以用它做什么

#### 1. 向用户输出回复内容

你可以在 Answer 节点中：

* 选择要展示给用户的变量
* 将模型或工具的输出整理成最终回答
* 控制返回给用户的文本内容和结构

这是用户**实际看到的结果**。

---

#### 2. 组合和格式化输出

Answer 节点支持你：

* 引用多个上游节点的变量
* 将它们组合成一段清晰的回复
* 对输出进行简单格式整理

例如：

```text
根据你的问题，这是我的分析结果：
{{analysis_result}}

推荐方案如下：
{{solution}}
```

---

#### 3. 作为对话流程的回复节点

在对话型流程中：

* Answer 节点可在流程中多次出现
* 每一次执行都会向用户返回一条可见回复
* 适合多轮交互或中途反馈的场景

## 输出说明

* Answer 节点的内容会：

  * 直接展示给用户
  * 或作为对话消息返回
* 输出通常为文本，也可为结构化内容（如平台支持）

## 使用规则

* Answer 节点通常位于流程的末尾或关键分支末端
* 一个流程中可以存在多个 Answer 节点
* Answer 节点不负责流程控制，仅负责内容输出

## 使用建议

* 输出内容尽量贴近用户视角，避免暴露内部变量含义
* 保持回答简洁、清晰，减少不必要的信息
* 对多分支流程，不同 Answer 节点可返回不同风格或结果

## 典型场景

* 对话助手的最终回复
* 多分支流程下的不同响应结果
* 流程中途向用户反馈执行状态
* Agent 的可见输出结果

## Answer 节点 与 End 节点的使用区别（重要）

> **Answer 节点 与 End 节点不能在同一个流程中同时使用。**

它们分别适用于不同类型的流程：

---

#### Answer 节点 —— 适用于 ChatFlow

* 用于**对话型流程**
* 面向用户实时输出回复内容
* 每次执行都会向用户返回一条可见消息
* 支持多轮对话、多次输出

**当你在构建 ChatFlow 时：**

* 使用 **Answer 节点** 作为回复节点
* 流程中 **不需要、也不能使用 End 节点**
* 流程会在 Answer 节点完成一次对话响应

---

#### End 节点 —— 适用于 Workflow

* 用于**任务型 / 自动化流程**
* 不强调对话展示，而是返回最终执行结果
* 用于明确结束流程执行
* 通常只作为流程终点使用

**当你在构建 Workflow 时：**

* 使用 **End 节点** 作为流程出口
* 流程中 **不需要、也不能使用 Answer 节点**
* 返回结果用于接口响应或下游系统处理

## 如何选择？

* 如果你的流程目标是：

  * 和用户对话
  * 给用户展示回复
    请选择 **ChatFlow + Answer 节点**

* 如果你的流程目标是：

  * 执行一项任务
  * 返回结果给系统或接口
    请选择 **Workflow + End 节点**

## 使用提示

* 在创建流程时，先明确流程类型（ChatFlow / Workflow）
* 根据流程类型选择对应的输出节点
* 不要在同一个流程中混用 Answer 和 End 节点，否则流程将无法正常运行

---