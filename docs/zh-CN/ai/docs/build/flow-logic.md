# 流程控制

## 流程的基本结构

在 Agent Builder 中，一个可运行的流程需要满足以下基本结构：

* 流程必须 **从开始节点（Start）开始**
* 流程必须 **以终止节点结束**

  * ChatFlow 使用 **Answer 节点**
  * Workflow 使用 **End 节点**
* 从开始节点到终止节点之间，节点需要形成一条**完整、可执行的路径**


## 节点连接规则

### 1. 节点连接方向

* 节点需要按照执行顺序进行连接
* 执行方向从 **开始节点 → 中间节点 → 终止节点**
* 节点之间通过连线明确执行顺序

### 2. 禁止逻辑循环

* 流程中 **不允许出现逻辑上的循环路径**
* 任意节点不能通过连线回到自身或上游节点
* 流程执行路径必须是**单向、可终止的**

这可以避免流程在运行时陷入无限执行。

### 3. 允许存在孤立节点

* 画布中可以存在**未连接的节点**
* 孤立节点不会参与流程执行
* 可用于：

  * 方案设计与草稿
  * 临时保留的节点逻辑
  * 后续扩展的流程片段


## 节点连接方式

### 通过节点加号进行连接

节点之间的连接通过节点上的 **加号（＋）** 完成：

1. **长按** 当前节点上的加号
2. **拖动** 到下一个节点的加号位置
3. **松开鼠标**，完成节点之间的连接

连接成功后，两个节点之间会显示执行连线。


## 流程可运行条件

当流程满足以下条件时，才可以运行：

* 从开始节点出发，存在至少一条路径可以到达终止节点
* 执行路径中不存在逻辑循环
* 所选终止节点与流程类型匹配（Answer 或 End）


## 使用建议

* 在搭建流程时，先规划主执行路径，再补充分支
* 使用孤立节点作为流程草稿区，避免影响当前可运行流程
* 连接完成后，建议整体查看流程，确保执行方向清晰

---
