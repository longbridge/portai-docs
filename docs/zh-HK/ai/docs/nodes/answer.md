# Answer 節點

## 是什麼

Answer 節點用于**将流程中的结果整理并輸出给用户**。
它通常作為對話或交互式流程中的最终回覆節點，用于生成用户可直接看到的回答内容。

与结束節點不同，Answer 節點更关注**“对用户说什么”**，而不是仅仅标记流程结束。

## 您可以用它做什麼

#### 1. 向用户輸出回覆内容

你可以在 Answer 節點中：

* 选择要展示给用户的变量
* 将模型或工具的輸出整理成最终回答
* 控制返回给用户的文本内容和结构

这是用户**实际看到的结果**。

---

#### 2. 組合和格式化輸出

Answer 節點支援你：

* 引用多个上游節點的变量
* 将它们組合成一段清晰的回覆
* 对輸出进行簡單格式整理

例如：

```text
根据你的问题，这是我的分析结果：
{{analysis_result}}

推荐方案如下：
{{solution}}
```

---

#### 3. 作為對話流程的回覆節點

在對話型流程中：

* Answer 節點可在流程中多次出现
* 每一次執行都会向用户返回一条可见回覆
* 适合多轮交互或中途反馈的场景

## 輸出说明

* Answer 節點的内容会：

  * 直接展示给用户
  * 或作為對話消息返回
* 輸出通常为文本，也可为结构化内容（如平台支援）

## 使用規則

* Answer 節點通常位于流程的末尾或关键分支末端
* 一个流程中可以存在多个 Answer 節點
* Answer 節點不负责流程控制，仅负责内容輸出

## 使用建議

* 輸出内容尽量贴近用户视角，避免暴露内部变量含义
* 保持回答简洁、清晰，减少不必要的信息
* 对多分支流程，不同 Answer 節點可返回不同风格或结果

## 典型場景

* 對話助手的最终回覆
* 多分支流程下的不同响应结果
* 流程中途向用户反馈執行状态
* Agent 的可见輸出结果

## Answer 節點 与 End 節點的使用区别（重要）

> **Answer 節點 与 End 節點不能在同一个流程中同时使用。**

它们分别適用于不同类型的流程：

---

#### Answer 節點 —— 適用于 ChatFlow

* 用于**對話型流程**
* 面向用户实时輸出回覆内容
* 每次執行都会向用户返回一条可见消息
* 支援多轮對話、多次輸出

**当你在構建 ChatFlow 时：**

* 使用 **Answer 節點** 作為回覆節點
* 流程中 **不需要、也不能使用 End 節點**
* 流程会在 Answer 節點完成一次對話响应

---

#### End 節點 —— 適用于 Workflow

* 用于**任務型 / 自动化流程**
* 不强调對話展示，而是返回最终執行结果
* 用于明確结束流程執行
* 通常只作為流程终点使用

**当你在構建 Workflow 时：**

* 使用 **End 節點** 作為流程出口
* 流程中 **不需要、也不能使用 Answer 節點**
* 返回结果用于介面响应或下游系统处理

## 如何选择？

* 如果你的流程目标是：

  * 和用户對話
  * 给用户展示回覆
    请选择 **ChatFlow + Answer 節點**

* 如果你的流程目标是：

  * 執行一项任務
  * 返回结果给系统或介面
    请选择 **Workflow + End 節點**

## 使用提示

* 在創建流程时，先明確流程类型（ChatFlow / Workflow）
* 根据流程类型选择对应的輸出節點
* 不要在同一个流程中混用 Answer 和 End 節點，否則流程将无法正常运行

---